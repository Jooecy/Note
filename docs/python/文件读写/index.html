<!DOCTYPE html>
<html lang="">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>文件读写 - XiaoXi Blog</title><meta name="Description" content="要使用文本中的信息，首先要将内容读取到内存当中，我们可以一次性读取文件的全部内容，也可以逐行读取。"><meta property="og:title" content="文件读写" />
<meta property="og:description" content="要使用文本中的信息，首先要将内容读取到内存当中，我们可以一次性读取文件的全部内容，也可以逐行读取。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/python/%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99/" />
<meta property="article:published_time" content="2020-04-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-04-24T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="文件读写"/>
<meta name="twitter:description" content="要使用文本中的信息，首先要将内容读取到内存当中，我们可以一次性读取文件的全部内容，也可以逐行读取。"/>
<meta name="application-name" content="XiaoXi Blog">
<meta name="apple-mobile-web-app-title" content="XiaoXi Blog"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="/python/%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99/" /><link rel="prev" href="/python/%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81%E4%B9%8B%E6%B5%8B%E8%AF%95%E5%87%BD%E6%95%B0/" /><link rel="next" href="/python/%E6%93%8D%E4%BD%9C%E5%88%97%E8%A1%A8/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "文件读写",
        "inLanguage": "",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "\/python\/%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99\/"
        },"genre": "Python","keywords": "open(), read(), readlines(), with","wordcount":  49 ,
        "url": "\/python\/%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99\/","datePublished": "2020-04-24T00:00:00+00:00","dateModified": "2020-04-24T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"description": "要使用文本中的信息，首先要将内容读取到内存当中，我们可以一次性读取文件的全部内容，也可以逐行读取。"
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="XiaoXi Blog">XiaoXi Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a href="javascript:void(0);" class="menu-item theme-switch" title="">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="XiaoXi Blog">XiaoXi Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a href="javascript:void(0);" class="menu-item theme-switch" title="">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="page single special"><h1 class="single-title animated pulse faster">文件读写</h1><div class="content" id="content"><p>要使用文本中的信息，首先要将内容读取到内存当中，我们可以一次性读取文件的全部内容，也可以逐行读取。</p>
<h3 id="读取整个文件">读取整个文件</h3>
<pre><code>with open('1.txt') as file_obj:
    neirong = file_obj.read()
    print(neirong)
</code></pre><p>要使用文件内容，要先打开<code>open()</code>文件，接着读取<code>read()</code>内容到内存中，最后当我们还要关闭<code>close()</code>文件，以免浪费内存。</p>
<p>这时使用关键字<code>with</code>就可以实现文件的自动关闭，<code>Python</code>会在合适的时候自动关闭文件。</p>
<p><code>open()</code>函数返回一个表示文件的对象，接着我们可以使用<code>read()</code>来读取这个文件内容，并存储在<code>nrirong</code>中。</p>
<h3 id="逐行读取">逐行读取</h3>
<p>可以使用<code>for</code>循环逐行读取文件内容。</p>
<pre><code>with open('2.txt') as file_obj:
    for i in file_obj:
    print(i)
</code></pre><p>一样的，函数<code>open()</code>返回一个表示文件的对象，存储在变量<code>file_obj</code>中，于是我们可以通过遍历文件对象<code>file_obj</code>来逐行读取内容。</p>
<h3 id="创建一个包含文件内容的列表">创建一个包含文件内容的列表</h3>
<p>使用关键字<code>with</code>时，<code>open()</code>返回的对象只可以在<code>with</code>代码块内访问，要想在<code>with</code>代码块外使用，我们需要创建一个包含该文件各行内容的<code>列表</code>：</p>
<pre><code>with open('3.txt') as file_obj:
    lines = file_obj.readlines()

for i in lines():
    print(i)
</code></pre><p>方法<code>readlines()</code>，读取文件中的每一行，并将其存储在<em><strong>列表</strong></em><code>lines</code>中。</p>
<h3 id="写入文件">写入文件</h3>
<p>要写入文件，需要在调用<code>open()</code>时，传入另外一个实参，告诉Python你要写入打开的文件：</p>
<pre><code>with open('4.txt','w') as file_obj:
    file_obj.write('我在写入文件')
</code></pre><p>实参<code>'w'</code>告诉Python，我们要以<em>写入模式</em>打开文件，其他的打开模式包括<code>'r'</code>-<em>只读模式</em>、<code>'a'</code>-<em>附加模式</em>、<code>'r+'</code>-<em>读写模式</em>。</p>
<p>如果要写入的文件不存在，Python会自动创建它，当使用<code>'w'</code>写入时，Python会在写入前清空该文件。</p>
</div></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"","maxShownLines":10},"comment":{}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
